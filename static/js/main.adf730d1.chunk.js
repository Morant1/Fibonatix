(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{79:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/logo.3331fcbf.jpg"},82:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/background.05217d6c.jpg"},83:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(0),s=n.n(i),c=n(9),r=n.n(c),l=n(21),o=n(12);function d(){return Object(a.jsx)("div",{className:"navbar",children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsxs)(l.b,{className:"logo",to:"/",children:[Object(a.jsx)("img",{alt:"logo",src:n(79).default}),"Students"]}),Object(a.jsx)("ul",{children:Object(a.jsx)(l.b,{to:"/",children:Object(a.jsx)("li",{children:"HOME"})})})]})})}var u=n(48),m=n(13),v=n.n(m),j=n(16),h=n(19),p=n(34),b=n(35),f=n(38),g=n(37),y=n(36),O=n(119),x=n(120);function S(e){var t=e.student,n=e.select;return Object(a.jsxs)("div",{className:"preview",children:[Object(a.jsx)(O.a,{checked:t.isSelected,onChange:function(e){n(t)},style:{color:"#88c5f9",backgroundColor:"white"}}),Object(a.jsx)("img",{src:"https://randomuser.me/api/portraits/".concat("male"===t.gender?"men":"women","/").concat(t._id,".jpg"),alt:"img_profile"}),Object(a.jsxs)("div",{className:"student-info",children:[Object(a.jsx)("h1",{children:t.name}),Object(a.jsx)("h2",{children:t.email})]}),Object(a.jsx)("h2",{className:"university",children:t.university}),Object(a.jsx)(l.b,{to:"/".concat(t._id),children:Object(a.jsx)("button",{children:"Details"})})]})}function k(e){var t=e.students,n=e.select;return Object(a.jsx)("div",{className:"list",children:t.map((function(e){return Object(a.jsx)(S,{student:e,select:n},e._id)}))})}var N={loadFromStorage:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null},saveToStorage:function(e,t){localStorage[e]=JSON.stringify(t)}},_={query:function(){C&&C.length||(C=[{_id:"79",name:"dandi",email:"dandi@gmail.com",university:"tel aviv university",age:16,gender:"female",city:"tel aviv",isSelected:!1},{_id:"80",name:"karin",email:"karin@gmail.com",university:"tel aviv university",age:17,gender:"female",city:"akko",isSelected:!1},{_id:"81",name:"liroy",email:"liroy1@gmail.com",university:"tel aviv university",age:16,gender:"male",city:"Tel aviv",isSelected:!1},{_id:"82",name:"daniella",email:"daniella12@gmail.com",university:"hebrew university",age:17,gender:"female",city:"kefar saba",isSelected:!1},{_id:"83",name:"tali",email:"taliii@gmail.com",university:"hebrew university",age:17,gender:"male",city:"ramat gan",isSelected:!1},{_id:"84",name:"morani",email:"morani8865@gmail.com",university:"tel aviv university",age:17,gender:"female",city:"akko",isSelected:!1},{_id:"85",name:"mor",email:"mormor@gmail.com",university:"tel aviv university",age:15,gender:"male",city:"tel aviv",isSelected:!1},{_id:"86",name:"lior",email:"lili@yahoo.com",university:"tel aviv university",age:16,gender:"male",city:"tel aviv",isSelected:!1},{_id:"87",name:"lea",email:"lea123456@yahoo.com",university:"bar ilan university",age:17,gender:"female",city:"ramat gan",isSelected:!1},{_id:"88",name:"shani",email:"shani@walla.com",university:"bar ilan university",age:16,gender:"female",city:"tel aviv",isSelected:!1},{_id:"89",name:"lidor",email:"lidor@walla.com",university:"hebrew university",age:16,gender:"male",city:"tel aviv",isSelected:!1},{_id:"90",name:"liam",email:"liam@outmail.com",university:"hebrew university",age:17,gender:"female",city:"tel aviv",isSelected:!1},{_id:"91",name:"ana",email:"anacohen@gmail.com",university:"tel aviv university",age:15,gender:"female",city:"dimona",isSelected:!1},{_id:"92",name:"or",email:"orcohen@gmail.com",university:"tel aviv university",age:15,gender:"male",city:"herzliya",isSelected:!1},{_id:"93",name:"lev",email:"lev@gmail.com",university:"bar ilan university",age:17,gender:"female",city:"herzliya",isSelected:!1},{_id:"94",name:"yotam",email:"yoyo@gmail.com",university:"bar ilan university",age:17,gender:"male",city:"tel aviv",isSelected:!1},{_id:"95",name:"yoni",email:"yoni1234@gmail.com",university:"tel aviv university",age:18,gender:"male",city:"bnei brak",isSelected:!1},{_id:"96",name:"yuli",email:"yulim@gmail.com",university:"tel aviv university",age:17,gender:"female",city:"bnei brak",isSelected:!1},{_id:"97",name:"ortal",email:"ortal@gmail.com",university:"tel aviv university",age:16,gender:"female",city:"nahariyya",isSelected:!1},{_id:"98",name:"shir",email:"shir@gmail.com",university:"tel aviv university",age:17,gender:"female",city:"tel aviv",isSelected:!1}],N.saveToStorage(w,C));return Promise.resolve(C)},getById:function(e){var t=C.find((function(t){return t._id===e}));return Promise.resolve(t)},remove:function(){C=C.filter((function(e){return!e.isSelected})),N.saveToStorage(w,C)},save:function(e){var t=C.findIndex((function(t){return t._id===e._id}));return C.splice(t,1,e),N.saveToStorage(w,C),Promise.resolve(e)},getPrevNextId:function(e){var t=C.findIndex((function(t){return t._id===e._id})),n=C[t+1]||C[0],a=C[t-1]||C[C.length-1];return Promise.resolve({prevId:a._id,nextId:n._id})},getPageData:function(){return Promise.resolve(I)},setPageData:function(e,t){I={chosenBtn:e,pageIdx:t},N.saveToStorage(E,I)},selectAll:function(e){C=C.map((function(t){return(e?!t.isSelected:t.isSelected)&&(t.isSelected=!t.isSelected),t})),N.saveToStorage(w,C)}},w="STUDENTS",E="PAGE",C=N.loadFromStorage(w),I=N.loadFromStorage(E)||{chosenBtn:0,pageIdx:0};function T(e){return function(){var t=Object(h.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.save(e);case 3:n({type:"UPDATE_STUDENT",student:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("err in updateStudent",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}var D=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={pageSize:8,pageCount:0,checked:!1},e.calcPageCount=function(){var t=e.props.students,n=Math.ceil(t.length/e.state.pageSize);e.setState({pageCount:n})},e.onNextPage=function(t){var n=t+1<=e.state.pageCount?t:0,a=t;_.setPageData(a,n),e.setState({pageIdx:n,chosenBtn:a})},e.select=function(){var t=Object(h.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=Object(j.a)({},n)).isSelected=!a.isSelected,t.next=4,e.props.updateStudent(a);case 4:e.setChecked();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setChecked=function(){var t=e.props.students.every((function(e){return e.isSelected}));!e.state.checked&&t&&e.setState({checked:!0}),e.state.checked&&!t&&e.setState({checked:!1})},e.onRemoveBtn=Object(h.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.chosenBtn,t.next=3,e.props.removeStudent();case 3:e.calcPageCount(),e.getStudents.every((function(e){return e.isSelected}))&&n&&e.onNextPage(n-1),e.props.students.length||e.setState({checked:!1});case 7:case"end":return t.stop()}}),t)}))),e.handleInput=function(t){var n=!e.state.checked;e.props.selectAll(n),e.setState({checked:n})},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(v.a.mark((function e(){var t,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadStudents();case 2:return this.calcPageCount(),this.setChecked(),e.next=6,_.getPageData();case 6:t=e.sent,n=t.chosenBtn,a=t.pageIdx,this.setState({chosenBtn:n,pageIdx:a});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.getStudents,n=this.state,i=n.pageCount,s=n.chosenBtn,c=n.checked;return t?Object(a.jsxs)("div",{className:"student-app",children:[this.getRemoveSign?Object(a.jsx)("i",{className:"trash fas fa-trash-alt",onClick:this.onRemoveBtn}):"",Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)("div",{className:"checkbox",children:Object(a.jsx)(x.a,{control:Object(a.jsx)(O.a,{checked:c,onChange:this.handleInput,style:{color:"#88c5f9",backgroundColor:"white"}}),label:"Select all"})}),Object(a.jsx)(k,{students:t,select:this.select}),Object(a.jsx)("div",{className:"navigation",children:Object(u.a)(Array(i)).map((function(t,n){return Object(a.jsx)("button",{className:"btn ".concat(s===n?"color":""),onClick:function(){e.onNextPage(n)},children:n+1},n)}))})]})]}):Object(a.jsx)("div",{children:"Loading...."})}},{key:"getStudents",get:function(){var e=this.props.students,t=this.state,n=t.pageIdx,a=t.pageSize,i=n*a;return e.slice(i,i+a)}},{key:"getRemoveSign",get:function(){return!!this.props.students.find((function(e){return e.isSelected}))}}]),n}(i.Component),P={loadStudents:function(){return function(){var e=Object(h.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.query();case 3:n=e.sent,t({type:"SET_STUDENTS",students:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("err in loadStudents",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},removeStudent:function(){return function(e){try{_.remove(),e({type:"REMOVE_STUDENT"})}catch(t){console.log("err in removeStudent",t)}}},updateStudent:T,selectAll:function(e){return function(t){try{_.selectAll(e),t({type:"UPDATE_STUDENTS",isSelect:e})}catch(n){console.log("err in updateStudents",n)}}}},U=Object(y.b)((function(e){return{students:e.studentReducer.students}}),P)(D),A=n(43),B=n(118),M=n(117),R=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={student:{name:"",age:0,gender:"",city:"",email:"",university:""}},e.handleInput=function(t){var n=t.target,a=n.name,i="number"===n.type?+n.value:n.value;e.setState((function(e){return{student:Object(j.a)(Object(j.a)({},e.student),{},Object(A.a)({},a,i))}}))},e.onSaveStudent=function(t){t.preventDefault(),e.props.onUpdate(e.state.student)},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.student;this.setState({student:e})}},{key:"render",value:function(){var e=this,t=this.state.student;return Object(a.jsx)(s.a.Fragment,{children:Object(a.jsxs)("form",{onSubmit:this.onSaveStudent,className:"edit-student",children:[Object(a.jsx)(B.a,{label:"Name:",type:"text",autoComplete:"off",name:"name",onChange:this.handleInput,value:t.name}),Object(a.jsx)(B.a,{label:"Age:",type:"number",autoComplete:"off",name:"age",onChange:this.handleInput,value:t.age}),Object(a.jsx)(B.a,{label:"City:",type:"text",autoComplete:"off",name:"city",onChange:this.handleInput,value:t.city}),Object(a.jsx)(B.a,{label:"Email:",type:"email",autoComplete:"off",name:"email",onChange:this.handleInput,value:t.email}),Object(a.jsx)(B.a,{label:"University:",type:"text",autoComplete:"off",name:"university",onChange:this.handleInput,value:t.university}),Object(a.jsxs)("div",{className:"select",children:[Object(a.jsx)("label",{children:"Gender:"}),Object(a.jsxs)("select",{name:"gender",value:t.gender,onChange:this.handleInput,children:[Object(a.jsx)("option",{value:"male",children:"male"}),Object(a.jsx)("option",{value:"female",children:"female"})]})]}),Object(a.jsxs)("div",{className:"btns",children:[Object(a.jsx)(M.a,{variant:"contained",color:"primary",className:"btn",type:"submit",children:"Save"}),Object(a.jsx)(M.a,{variant:"contained",className:"btn",type:"button",onClick:function(){e.props.onEdit()},children:"Back"})]})]})})}}]),n}(i.Component),F=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={isEditMode:!1,nextId:null,prevId:null},e.loadStudent=Object(h.a)(v.a.mark((function t(){var n,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.match.params._id,t.next=3,_.getById(n);case 3:a=t.sent,e.setState({student:a},(function(){e.getPrevNext()}));case 5:case"end":return t.stop()}}),t)}))),e.getPrevNext=Object(h.a)(v.a.mark((function t(){var n,a,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.getPrevNextId(e.state.student);case 2:n=t.sent,a=n.prevId,i=n.nextId,e.setState({prevId:a,nextId:i});case 6:case"end":return t.stop()}}),t)}))),e.onBack=function(){e.props.history.push("/")},e.onEdit=function(){var t=!e.state.isEditMode;e.setState({isEditMode:t})},e.updateStudent=function(){var t=Object(h.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.updateStudent(n);case 2:return t.next=4,e.loadStudent();case 4:e.onEdit();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){window.scroll({top:0,left:0,behavior:"smooth"}),this.loadStudent()}},{key:"componentDidUpdate",value:function(e,t){e.match.params._id!==this.props.match.params._id&&this.loadStudent()}},{key:"render",value:function(){var e=this,t=this.state,n=t.student,i=t.isEditMode,s=t.nextId,c=t.prevId;return n?Object(a.jsxs)("div",{className:"student-details",children:[!i&&Object(a.jsxs)("div",{className:"details-container",children:[Object(a.jsxs)("div",{className:"img-container",children:[Object(a.jsx)("i",{onClick:function(){e.onBack()},className:"back fas fa-arrow-circle-left"}),Object(a.jsx)("img",{alt:"img_profile",src:"https://randomuser.me/api/portraits/".concat("male"===n.gender?"men":"women","/").concat(n._id,".jpg")})]}),Object(a.jsxs)("h1",{children:[Object(a.jsx)("i",{className:"fas fa-user-graduate"})," ",n.name," ",Object(a.jsxs)("span",{children:[n.age," years old"]})]}),Object(a.jsxs)("ul",{children:[Object(a.jsxs)("li",{children:[Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"fas fa-venus-mars"})}),n.gender]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"fas fa-map-marker-alt"})}),n.city," ,Israel"]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"fas fa-at"})}),n.email]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"fas fa-university"})}),n.university," ,Israel"]})]}),Object(a.jsxs)("div",{className:"edit",onClick:function(){e.onEdit()},children:[Object(a.jsx)("i",{className:"fas fa-user-edit"})," Edit"]}),Object(a.jsxs)("div",{className:"next-prev",children:[Object(a.jsx)("div",{className:"btn prev",children:Object(a.jsx)(l.b,{to:"/".concat(c),children:Object(a.jsx)("i",{className:"fas fa-arrow-left"})})}),Object(a.jsx)("div",{className:"btn next",children:Object(a.jsx)(l.b,{to:"/".concat(s),children:Object(a.jsx)("i",{className:"fas fa-arrow-right"})})})]})]}),i&&Object(a.jsx)("div",{className:"edit-container",children:Object(a.jsx)(R,{student:n,onEdit:this.onEdit,onUpdate:this.updateStudent})})]}):Object(a.jsx)("div",{children:"Loading..."})}}]),n}(i.Component),z={updateStudent:T},L=Object(y.b)((function(e){return{students:e.studentReducer.students}}),z)(F);var J=function(){return Object(a.jsx)("div",{className:"App",style:{backgroundImage:"url(".concat(n(82).default,")")},children:Object(a.jsxs)(l.a,{children:[Object(a.jsx)(d,{}),Object(a.jsxs)(o.c,{children:[Object(a.jsx)(o.a,{component:L,path:"/:_id"}),Object(a.jsx)(o.a,{component:U,path:"/"})]})]})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,122)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),s(e),c(e)}))},q=n(33),G=n(61),X={students:[]};var H=Object(q.c)({studentReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STUDENTS":return Object(j.a)(Object(j.a)({},e),{},{students:t.students});case"UPDATE_STUDENTS":return Object(j.a)(Object(j.a)({},e),{},{students:e.students.map((function(e){return(t.isSelect?!e.isSelected:e.isSelected)&&(e.isSelected=!e.isSelected),e}))});case"UPDATE_STUDENT":return Object(j.a)(Object(j.a)({},e),{},{students:e.students.map((function(e){return e._id===t.student._id?t.student:e}))});case"ADD_STUDENT":return Object(j.a)(Object(j.a)({},e),{},{students:[].concat(Object(u.a)(e.students),[t.student])});case"REMOVE_STUDENT":var n=e.students.filter((function(e){return!e.isSelected}));return Object(j.a)(Object(j.a)({},e),{},{students:n});default:return e}}}),K=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||q.d,Q=Object(q.e)(H,K(Object(q.a)(G.a)));n(83);r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(y.a,{store:Q,children:Object(a.jsx)(J,{})})}),document.getElementById("root")),V()}},[[84,1,2]]]);
//# sourceMappingURL=main.adf730d1.chunk.js.map